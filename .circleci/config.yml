version: 2.1

orbs:
  maven: circleci/maven@2.1.1

jobs:
  serialized-tests:
    docker:
      - image: cimg/openjdk:21.0
    concurrency:
      group: integration-tests
      cancel-in-progress: false
    steps:
      - checkout
      - maven/with_cache:
          steps:
            - run: mvn -B -DskipTests=false verify

workflows:
  maven_test:
    jobs:
      - serialized-tests:
          context: "Keep.id Slack"
